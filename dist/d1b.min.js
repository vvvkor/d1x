/*! d1x v1.0.18 */!function(t){var i={};function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)e.d(n,s,function(i){return t[i]}.bind(null,s));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=17)}([function(t,i){function e(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}
/*! d1css v0.0.0 */(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.exports=new function(){this.sequence=0,this.plugins={},this.handlers={},this.opt={debug:0,textIcons:!1,aCaption:"data-caption",cAct:"act",cHide:"hide",cToggle:"toggle",cOff:"off",cUnpop:"unpop",cClose:"close",cIcon:"icon",cJs:"js",hClose:"#cancel",hOk:"#ok",iClose:["close","&#x2715;"],sCancel:"Cancel",sOk:"OK",pSvg:"svg-"},this.init=function(t){var i=this;t||(t=this.attr(document.body,"data-d1"))&&(t=JSON.parse(t)),this.setOpt(this,t),this.dbg(["opt",this.opt]),this.initPlugins(t),this.b([window],"hashchange",(function(t){return i.on("hash",t)})),this.b([document],"keydown",(function(t){return i.on("key",t)})),this.b([document],"click",(function(t){return i.on("click",t)})),location.hash&&this.on("hash"),document.body.classList.add(this.opt.cJs),this.fire("after")},this.on=function(t,i){this.fire(t,i),this.fire(t+"ed",i),this.fire("after",i)},this.setOpt=function(t,i){var e;if(i)for(e in i)"plug"!=e&&(t.opt[e]=i[e])},this.plug=function(t){this.plugins[t.name]=t},this.initPlugins=function(t){var i=this;this.dbg(["plugins",this.plugins]),Object.keys(this.plugins).forEach((function(e){t&&t.plug&&t.plug[e]&&i.setOpt(i.plugins[e],t.plug[e]),i.plugins[e].init()}))},this.listen=function(t,i){this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(i)},this.fire=function(t,i){var e=this;this.dbg(["fire "+t,i]),this.handlers[t]&&this.handlers[t].forEach((function(t){return t.call(e,i)}))},this.dbg=function(t,i,e){this.opt.debug>=(i||1)&&console[e?"error":"log"](t)},this.seq=function(){return++this.sequence},this.closest=function(t,i){do{if(t.matches&&t.matches(i))return t}while(t=t.parentNode)},this.a=function(t){return t?Array.prototype.slice.call(t):t},this.q=function(t,i){try{return(i||document).querySelector(t)}catch(t){return null}},this.qq=function(t,i){try{var e=(i||document).querySelectorAll(t);return this.a(e)}catch(t){return[]}},this.b=function(t,i,e){var n=this;(t="string"==typeof t?this.qq(t):t.tagName?[t]:this.a(t))&&e&&t.forEach((function(t){return i?t.addEventListener(i,(function(t){return e(t)}),!1):e.call(n,t)}))},this.e=function(t,i){return this.b(t,"",i)},this.attr=function(t,i,e){return t&&t.hasAttribute(i)?t.getAttribute(i):void 0!==e?e:""},this.ins=function(t,i,e,n,s){var o=document.createElement(t||"span");if(i&&i.tagName?o.appendChild(i):i&&(o.innerHTML=i),e)for(var a in e)a.match(/-/)?o.setAttribute(a.replace(/^-/,""),e[a]):o[a]=e[a];return n?s?n.parentNode.insertBefore(o,s<0?n:n.nextSibling):!1===s?n.insertBefore(o,n.firstChild):n.appendChild(o):o},this.x=function(t,i,e){return this.ins("a",d1.i(this.opt.iClose),{href:this.opt.hClose,className:e||""},t,i)},this.svg=function(t,i,e){return this.opt.textIcons||!document.getElementById(t)?this.ins("span",i||"",{className:e||""}):this.ins("span",'<svg class="'+this.opt.cIcon+" "+(e||"")+'" width="24" height="24"><use xlink:href="#'+t+'"></use></svg>')},this.i=function(t,i,n){return t instanceof Array?this.i.apply(this,e(t)):this.svg(t?this.opt.pSvg+t:"",i||"["+t+"]",n)},this.vis=function(t){return!t.classList.contains(this.opt.cOff)},this.throttle=function(t,i){var e,n=!1;return function s(){n?e=arguments:(t.apply(null,arguments),n=!0,setTimeout((function(){n=!1,e&&(s.apply(null,e),e=null)}),i))}},this.get=function(t,i){if(!t||"A"!=t.tagName)return null;var e,n={},s=t.search?t.search.replace(/^\?/,"").split("&"):[];for(e=0;e<s.length;e++){var o=s[e].split("=");n[o[0]]=decodeURIComponent(o[1]).replace(/\+/," ")}return i?n[i]:n},this.makeUrl=function(t,i){t.tagName||(t=d1.ins("a","",{href:t}));var e=this.get(t);Object.keys(i).forEach((function(t){return e[t]=i[t]}));var n=Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");return t.protocol+"//"+t.host+t.pathname+(n?"?"+n:"")+t.hash}}},function(t,i,e){var n={"./calendar.js":2,"./code.js":3,"./d1.js":0,"./dialog.js":4,"./example.js":5,"./fetch.js":6,"./fliptable.js":7,"./form.js":8,"./gallery.js":9,"./lookup.js":10,"./scroll.js":11,"./tablex.js":12,"./theme.js":13,"./toggle.js":14,"./tools.js":15};function s(t){var i=o(t);return e(i)}function o(t){if(!e.o(n,t)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=o,t.exports=s,s.id=1},function(t,i,e){
/*! d1 calendar */
var n=e(0);t.exports=new function(){"use strict";this.name="calendar",this.opt={cBtn:"pad hover",dateFormat:"d",hashCancel:"#cancel",hashNow:"#now",icons:["iDate","iNow","iClear"],iDate:["date","#"],iClear:["delete","&#x2715;"],iNow:["now","&#x2713;"],iPrev:["prev","&lsaquo;"],iNext:["next","&rsaquo;"],iPrev2:["prev","&laquo;"],iNext2:["next","&raquo;"],idPicker:"pick-date",minWidth:801,qsCalendar:"input.calendar",showModal:0,sizeLimit:801,stepMinutes:1,inPop:0},this.win=null,this.init=function(t){var i,e=this;for(i in t)this.opt[i]=t[i];if(!(window.innerWidth<this.opt.minWidth)){this.win=n.ins("div","",{id:this.opt.idPicker,className:n.opt.cToggle+" "+n.opt.cOff+" "+n.opt.cUnpop+" pad"}),this.win.style.whiteSpace="nowrap",document.body.appendChild(this.win);for(var s=n.qq(this.opt.qsCalendar),o=function(t){e.preparePick(s[t]),n.b(s[t],"click",(function(i){return e.openDialog(s[t],null,i)}),!1),n.b(s[t],"input",(function(i){return e.validate(s[t],0)}),!1)},a=0;a<s.length;a++)o(a)}},this.toggle=function(t,i){if(i){var e=n.attr(i,"data-modal");if(e=null!==e?parseInt(e,10):this.opt.showModal||Math.min(window.innerWidth,window.innerHeight)<this.opt.sizeLimit,t){if(this.win.className=n.opt.cToggle+" "+n.opt.cOff+" "+n.opt.cUnpop+" pad "+(e?"dlg":""),(e?document.body:i.thePop).appendChild(this.win),e){var s=this.win.style;s.left=s.right=s.top=s.bottom=""}this.win.vRel=e?null:i}}n.plugins.toggle.toggle(this.win,t),n.fire("after")},this.preparePick=function(t){var i=this;t.vTime="datetime-local"==t.type||t.classList.contains("datetime"),t.type="text",t.autocomplete="off",t.value&&(t.value=this.fmt(this.parse(t.value),0,t.vTime));var e=n.ins("div","",{className:"pop l"},t,-1);if(this.opt.inPop||(e.style.verticalAlign="bottom"),t.thePop=e,this.opt.icons.length>0){var s=[],o=n.ins("span","",{className:"input-tools"},t,1);for(var a in this.opt.icons){n.ins(""," ",{},o);var r=o.appendChild(n.i(this.opt[this.opt.icons[a]]));r.style.cursor="pointer",s.push(r)}s[0]&&n.b(s[0],"click",(function(e){return i.openDialog(t,null,e)}),!1),s[1]&&n.b(s[1],"click",(function(e){return i.closeDialog(t,!0,null,null,e)}),!1),s[2]&&n.b(s[2],"click",(function(e){return i.closeDialog(t,"",null,null,e)}),!1)}this.opt.inPop&&e.appendChild(t)},this.switchMonth=function(t,i,e,n,s,o,a){if(a.preventDefault(),n>28){var r=new Date(i,e+1,0).getDate();n=Math.min(n,r)}var l=s?parseInt(s.textContent,10):0,h=o?parseInt(o.textContent,10):0;this.openDialog(t,new Date(i,e,n,l,h),a)},this.openDialog=function(t,i,e){e.stopPropagation(),this.build(t,i||t.value),this.toggle(!0,t)},this.closeDialog=function(t,i,e,n,s){s.preventDefault(),s.stopPropagation(),t&&(this.setValue(t,i,e,n),t.focus()),this.toggle(!1)},this.setValue=function(t,i,e,n){null!==i&&(t.value=!0===i?this.fmt(0,0,t.vTime):i,!0===i&&t.vTime||!e||!n||(t.value+=" "+this.n(e.textContent)+":"+this.n(n.textContent)),this.validate(t,0))},this.n=function(t,i){return("000"+t).substr(-(i||2))},this.getLimit=function(t,i,e){var s=n.attr(t,i);return s?this.fmt(this.parse(s),0,e,"y"):"max"==i?"9999":"0000"},this.errLimits=function(t){var i=this.getLimit(t,"min",t.vTime),e=this.getLimit(t,"max",t.vTime),n=this.fmt(this.parse(t.value),0,t.vTime,"y");return i&&n<i||e&&n>e?i+" .. "+e:""},this.validate=function(t,i){t.setCustomValidity(i||""==t.value?"":this.errLimits(t)),t.checkValidity(),t.reportValidity()},this.build=function(t,i){for(var e=this;this.win.firstChild;)this.win.removeChild(this.win.firstChild);"string"==typeof i&&(i=this.parse(i||n.attr(t,"data-def")));var s=this.getLimit(t,"min",0),o=this.getLimit(t,"max",0),a=null,r=null,l=null;if(t.vTime){l=n.ins("p","",{className:"c"});var h=this.btn("#prev-hour",n.i(this.opt.iPrev),l);a=n.ins("span",this.n(i.getHours()),{className:"pad"},l);var c=this.btn("#next-hour",n.i(this.opt.iNext),l);n.ins("span",":",{className:"pad"},l);var u=this.btn("#prev-min",n.i(this.opt.iPrev),l);r=n.ins("span",this.n(i.getMinutes()),{className:"pad"},l);var p=this.btn("#next-min",n.i(this.opt.iNext),l);n.b(h,"click",(function(i){return e.setTime(t,a,r,-1,"h",i)}),!1),n.b(c,"click",(function(i){return e.setTime(t,a,r,1,"h",i)}),!1),n.b(u,"click",(function(i){return e.setTime(t,a,r,-e.opt.stepMinutes,"i",i)}),!1),n.b(p,"click",(function(i){return e.setTime(t,a,r,+e.opt.stepMinutes,"i",i)}),!1)}var f=i.getFullYear(),d=i.getMonth(),v=i.getDate(),g=this.n(d+1)+"."+f,m=n.ins("p","",{className:"c"},this.win),b=this.btn(this.opt.hashNow,n.i(this.opt.iNow),m),C=this.btn("#prev-year",n.i(this.opt.iPrev2),m),w=this.btn("#prev-month",n.i(this.opt.iPrev),m),y=(n.ins("span",g,{className:"pad"},m),this.btn("#next-month",n.i(this.opt.iNext),m)),q=this.btn("#next-year",n.i(this.opt.iNext2),m),k=this.btn(this.opt.hashCancel,n.i(n.opt.iClose),m);n.ins("hr","",{},this.win),n.b(b,"click",(function(i){return e.closeDialog(t,!0,a,r,i)}),!1),n.b(k,"click",(function(i){return e.closeDialog(t,null,null,null,i)}),!1),n.b(C,"click",(function(i){return e.switchMonth(t,f-1,d,v,a,r,i)}),!1),n.b(q,"click",(function(i){return e.switchMonth(t,f+1,d,v,a,r,i)}),!1),n.b(w,"click",(function(i){return e.switchMonth(t,f,d-1,v,a,r,i)}),!1),n.b(y,"click",(function(i){return e.switchMonth(t,f,d+1,v,a,r,i)}),!1);for(var N,x,D,L,T,S,I=new Date(f,d+1,0).getDate(),A=(new Date(f,d,1).getDay()+6)%7,O=7*Math.ceil((A+I)/7)-A,P=(this.fmt(new Date),this.fmt(i)),M=1-A;M<=O;M++)1==(T=(A+M-1)%7+1)&&(S=n.ins("div","",{className:"row"},this.win)),M<1||M>I?N=n.ins("a","",{className:"pad c center"},S):function(){var l=e.fmt(i,M);x=e.fmt(i,M,0,"y"),D=l==P,!1,L=s&&x<s||o&&x>o,N=n.ins("a",M,{className:"pad c center "+(D?"bg-w ":"")+(L?"text-n ":"hover ")+(T>5?"text-e ":"")},S),L||(N.href="#"+M,n.b(N,"click",(function(i){return e.closeDialog(t,l,a,r,i)}),!1))}();t.vTime&&(n.ins("hr","",{},this.win),this.win.appendChild(l))},this.setTime=function(t,i,e,n,s,o){var a="h"==s?24:60,r="h"==s?i:e;o.preventDefault();var l=parseInt(r.textContent,10),h=l%Math.abs(n);l+=h?n>0?n-h:-h:a+n,r.textContent=this.n(l%a),this.setValue(t,this.fmt(this.parse(t.value)),i,e)},this.parse=function(t){t||(t="");var i=-1!=t.indexOf("/")?"m":-1!=t.indexOf(".")?"d":"y",e="m"==i?[2,0,1]:"d"==i?[2,1,0]:[0,1,2];for(t=t.split(/\D/);t.length<6;)t.push(2==t.length?1:0);return(t=new Date(parseInt(t[e[0]],10),parseInt(t[e[1]]-1,10),parseInt(t[e[2]],10),parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10))).getFullYear()||(t=new Date),t},this.fmt=function(t,i,e,n){t||(t=new Date),i&&(t=new Date(t.getFullYear(),t.getMonth(),i));var s=this.n(t.getDate()),o=this.n(t.getMonth()+1),a=t.getFullYear();return n||(n=this.opt.dateFormat),("m"==n?o+"/"+s+" "+a:"d"==n?s+"."+o+"."+a:a+"-"+o+"-"+s)+(e?" "+this.n(t.getHours())+":"+this.n(t.getMinutes()):"")},this.btn=function(t,i,e){return n.ins("a",i,{href:t,className:this.opt.cBtn},e)}}},function(t,i,e){
/*! d1 code sample */
var n=e(0);t.exports=new function(){"use strict";this.name="code",this.opt={sCode:"HTML"},this.init=function(){var t=this;n.e(".code",(function(i){return t.showCode(i)}))},this.showCode=function(t){var i=t.innerHTML.replace(/^\s*\r?\n|\s+$/g,"").replace(/\t/g,"  ").replace(/=""/g,""),e=n.ins("div","",{classList:"bord"},t,1);e.appendChild(t),t.classList.add("pad");var s="code-"+n.seq();n.ins("div",n.ins("a",this.opt.sCode,{className:"pad",href:"#"+s}),{className:"-r bg small"},e),n.ins("pre","",{className:n.opt.cToggle+" "+n.opt.cOff+" fit pad",id:s},e).textContent=i}}},function(t,i,e){
/*! d1 dialog */
var n=e(0);t.exports=new function(){"use strict";this.name="dialog",this.dlg=null,this.opt={customDialog:1,aConfirm:"_confirm",aPrompt:"data-prompt",cBtn:"btn pad",qAlert:"a.alert",qDialog:"a.dialog, input.dialog"},this.init=function(){var t=this;n.plugins.toggle?n.listen("click",(function(i){return t.onClick(i)})):console.error('Module "dialog" requires "toggle"')},this.onClick=function(t){var i=n.closest(t.target,"a, input, button");if(i&&i.matches(this.opt.qAlert+","+this.opt.qDialog))return t.preventDefault(),this.dialog(i)},this.initDlg=function(t,i,e,s,o,a){var r=this;this.dlg||(this.dlg=n.ins("div","",{className:n.opt.cToggle+" "+n.opt.cOff+" "+n.opt.cUnpop+" dlg"},document.body));for(var l,h=this.dlg;l=h.firstChild;)h.removeChild(l);var c=n.ins("div","",{className:"row bg"},h);n.ins("h3",i||"",{className:"fit pad"},c),n.x(c,0,"pad hover col-0");var u=n.ins("div","",{className:"pad"},h);e&&n.ins("div",e,{},u);var p={value:!0};(o||""===o)&&(p=n.ins("input","",{value:o},u));var f=n.ins("p","",{className:"r"},u),d=this.opt.cBtn+" "+(" "==e.substr(0,1)||t&&t.className.match(/-[we]\b/)?"bg-e":"bg-y"),v=this.opt.cBtn+" bg-n",g=n.ins("a",n.attr(t,"data-ok",n.opt.sOk),{href:n.opt.hClose,className:a?v:d},f);s&&(n.ins("a",n.attr(t,"data-cancel",n.opt.sCancel),{href:n.opt.hClose,className:a?d:v},g,a?-1:1),n.ins(""," ",{},g,a?-1:1),g.href=n.opt.hOk,n.b([g],"click",(function(t){t.preventDefault(),s.call(r,p.value)})),p.tagName&&n.b([p],"keyup",(function(t){return 13==t.keyCode?s.call(r,p.value,t):null}))),n.plugins.toggle.toggle(this.dlg,!0)},this.dialog=function(t,i){var e=this;if(!t.form||t.form.checkValidity()){var s=n.attr(t,this.opt.aPrompt),o=n.attr(t,n.opt.aCaption,t.title||s||"!"),a=n.attr(t,"data-reverse"),r=n.attr(t,"data-src");!(r=r?n.q(r):null)&&t.form&&(r=t.form.elements[s]);var l=null,h=t.matches(this.opt.qAlert),c=s?r?r.value:n.get(t,s):null;return this.opt.customDialog?this.initDlg(t,"",o,h?null:function(n){return e.onAnswer(t,i,s,n)},c,a):(l=h?alert(o):s?prompt(o,c):confirm(o),this.onAnswer(t,i,s,l)),this.dlg}t.form.reportValidity()},this.onAnswer=function(t,i,e,s){if(i)i.call(this,t,s);else if(s||""===s){if(t.form){if(!0!==s){var o=t.form.elements[e]||n.ins("input","",{type:"hidden",name:e},t.form);o&&(o.value=s)}t.form.reportValidity()?(n.q('[type="hidden"][name="'+t.name+'"]',t.form)||n.ins("input","",{type:"hidden",name:t.name,value:t.value},t.form),t.form.elements[this.opt.aConfirm]||n.ins("input","",{type:"hidden",name:this.opt.aConfirm,value:1},t.form),t.form.submit()):n.plugins.toggle.unpop()}else if(t.href){var a,r="#"==n.attr(t,"href").substr(0,1),l="_blank"==t.target;if((r||l)&&n.plugins.toggle.unpop(),r)a=t.hash;else{var h={};h[this.opt.aConfirm]=1,!0!==s&&(h[e]=s),a=n.makeUrl(t,h)}"_blank"==t.target?window.open(a,t.target):location.href=a}}else;}}},function(t,i,e){
/*! d1 example plugin */
e(0);t.exports=new function(){"use strict";this.name="example",this.opt={},this.init=function(){}}},function(t,i,e){
/*! d1 async fetch */
var n=e(0);t.exports=new function(){"use strict";this.name="fetch",this.opt={},this.init=function(){var t=this;n.listen("click",(function(i){return t.onClick(i)}))},this.onClick=function(t){var i=n.closest(t.target,"a[data-target]");i&&(t.preventDefault(),this.fetchBy(i))},this.fetchBy=function(t,i){var e=this;this.fetch(n.attr(t,"href"),(function(n){return i?i(t,n):e.recv(t,n)}))},this.fetch=function(t,i){var e=new XMLHttpRequest;i&&e.addEventListener("load",(function(t){return i(e)})),e.open("GET",t),e.send()},this.recv=function(t,i,e){var s=n.q(n.attr(t,"data-target"));if("200"==i.status)if(s){s.innerHTML=i.responseText;var o=n.closest(s,".dlg[id]");o&&n.plugins.toggle.toggle(o,!0)}else n.plugins.dialog.initDlg(null,"",i.responseText);else console.error("XHTTP request failed",i);n.fire("after",e)}}},function(t,i,e){
/*! d1 responsive table */
var n=e(0);t.exports=new function(){"use strict";this.name="fliptable",this.opt={qFlipTable:"table.flip",cCellHead:"hide-desktop bg text-n"},this.init=function(){var t=this;n.e(this.opt.qFlipTable,(function(i){return t.prepareFlipTable(i)}))},this.prepareFlipTable=function(t){for(var i=n.qq("thead th",t),e=n.qq("tbody tr>*",t),s=(n.attr(t,"data-order")||"0 1 2 3").split(/\D+/),o=0;o<e.length;o++){var a=e[o],r=i[a.cellIndex],l=s.indexOf(""+a.cellIndex);if(-1==l&&(l=99),a.style.order=l,a.textContent.replace(/\s+$/,"").length>0){for(var h=n.ins("div");a.firstChild;)h.appendChild(a.firstChild);a.textContent="",r&&n.ins("div",r.textContent,{className:this.opt.cCellHead},a),a.appendChild(h)}}}}},function(t,i,e){
/*! d1 form tools */
var n=e(0);t.exports=new function(){"use strict";this.name="form",this.opt={},this.init=function(){var t=this;n.e('input[type="color"]',(function(i){return t.prepareColor(i)})),n.listen("click",(function(i){return t.onClick(i)}))},this.onClick=function(t){var i=t.target,e=n.closest(i,'a[href^="#"][data-value]');e?(t.preventDefault(),this.setValue(e)):i.matches("input[data-group]")&&this.checkBoxes(i)},this.checkBoxes=function(t){n.e(n.qq('input[type="checkbox"][class~="'+n.attr(t,"data-group")+'"]',t.form),(function(i){return i.checked=t.checked}))},this.setValue=function(t){var i=n.q(t.hash);i&&(i.value=n.attr(t,"data-value"),n.plugins.toggle.esc())},this.prepareColor=function(t){var i=n.ins("input","",{type:"text",value:t.value,size:7,className:"color"},t,-1);n.ins(""," ",{},i,1),n.b([t,i],"input",(function(e){return(e.target==t?i:t).value=e.target.value}))}}},function(t,i,e){
/*! d1 gallery */
var n=e(0);t.exports=new function(){"use strict";this.name="gallery",this.opt={idPrefix:"pic-",num:!0,cGal:"gal",qGal:".gal>a[id]",qGallery:".gallery",qLinks:"a.pic"},this.init=function(){var t=this;n.listen("hash",(function(i){return t.onHash(i)})),n.listen("key",(function(i){return t.onKey(i)})),n.listen("click",(function(i){return t.onClick(i)})),n.e(this.opt.qGallery,(function(i){return t.prepare(i)}))},this.onClick=function(t){var i=t.target;i.matches(this.opt.qGal)&&t.clientX>0&&t.clientX<i.clientWidth/3&&this.prevImg(i)&&t.preventDefault()},this.prevImg=function(t){var i=t.previousElementSibling||n.qq("a[id]",t.parentNode).pop();return i.id&&(location.hash="#"+i.id),i.id},this.onHash=function(){var t=n.q(location.hash);t&&(this.loadImg(t),this.loadImg(n.q(t.hash)))},this.loadImg=function(t){t&&t.vImg&&(t.style.backgroundImage='url("'+t.vImg+'")',t.vImg="")},this.prepare=function(t){for(var i=n.ins("div","",{className:this.opt.cGal}),e=n.qq(this.opt.qLinks,t),s=e.length,o=0,a=0;a<s;a++)if(!e[a].vDone){var r=n.seq();a||(o=r);var l=n.ins("a","",{id:this.opt.idPrefix+r,href:"#"+this.opt.idPrefix+(a==s-1?o:r+1)},i);l.vLink=n.attr(e[a],"href"),l.vImg=n.attr(e[a],"href"),l.setAttribute(n.opt.aCaption,(this.opt.num?a+1+"/"+s+(e[a].title?" - ":""):"")+(e[a].title||"")),e[a].href="#"+l.id,e[a].vDone=1}n.x(i),n.b(n.qq("a[id]",i),"click",n.gotoPrev),document.body.appendChild(i)},this.onKey=function(t){if(location.hash){var i=n.q(location.hash);if(i&&i.hash){var e=t.keyCode;if(37==e||38==e)this.prevImg(i);else if(39==e||40==e)location.hash=i.hash;else if(8==e){var s=i.vLink;s||(s=(s=window.getComputedStyle(i).backgroundImage).substring(4,s.length-1).replace(/^"|"$/g,"")),s&&(location.href=s)}}}}}},function(t,i,e){
/*! d1 autocomplete lookups with data from XHTTP request */
var n=e(0);t.exports=new function(){"use strict";this.name="lookup",this.opt={},this.opt={aLabel:"data-label",aLookup:"data-lookup",aUrl:"data-url",aGoto:"data-goto",cacheLimit:0,iGoto:["edit","&rarr;"],pList:"lookup-list-",max:10,wait:300,inPop:0},this.seq=0,this.win=null,this.init=function(){var t=this;this.win=n.ins("div","",{id:this.opt.pList+n.seq(),className:n.opt.cToggle+" "+n.opt.cOff+" "+n.opt.cUnpop}),this.closeList(),document.querySelector("body").appendChild(this.win);for(var i=document.querySelectorAll("["+this.opt.aLookup+"]"),e=0;e<i.length;e++)this.prepare(i[e]);n.b("[data-chain]","change",(function(i){return t.updateChain(i.target)})),n.e("[data-chain]",(function(i){return t.updateChain(i)})),n.listen("key",(function(i){return t.onKey(i)}))},this.prepare=function(t){var i=n.ins("div","",{className:"pop l"},t,1);this.opt.inPop||(i.style.verticalAlign="bottom"),t.thePop=i,t.classList.add("bg-n"),t.classList.add(n.opt.cHide),t.vLabel=t.getAttribute(this.opt.aLabel)||t.value||"";var e=n.ins("input","",{type:"text",value:t.vLabel,className:"input-lookup subinput"},i,this.opt.inPop?0:1);e.name="lookup-"+t.name,t.id&&(e.id="lookup-"+t.id,t.title&&(e.title=t.title),n.e('[for="'+t.id+'"]',(function(t){return t.htmlFor=e.id}))),t.placeholder&&(e.placeholder=t.placeholder),e.autocomplete="off";var s=null;if(this.opt.iGoto&&t.getAttribute(this.opt.aUrl)){var o=n.ins("span","",{className:"input-tools"},this.opt.inPop?i:e,1);(s=n.ins("a",n.i(this.opt.iGoto),{},o)).style.cursor="pointer",n.ins(""," ",{},o,-1)}this.setHandlers(t,e,s)},this.setHandlers=function(t,i,e){var s=this;t.vCap=i,i.vId=t,n.b(i,"input",(function(i){return s.planFind(t,0)}),!1),e&&n.b(e,"click",(function(i){return s.go(t,i)}),!1)},this.planFind=function(t,i){""===t.vCap.value?this.fix(t,"",""):(this.seq++,t.vSeq=this.seq,t.vWait&&clearTimeout(t.vWait),t.vCache&&t.vCache[t.vCap.value]?this.openList(t,t.vCache[t.vCap.value]):t.vWait=setTimeout(this.find.bind(this,t),i?0:this.opt.wait))},this.find=function(t){var i=encodeURI(decodeURI(n.makeUrl(n.attr(t,this.opt.aLookup),{seq:this.seq,time:(new Date).getTime()})).replace(/\{q\}/,t.vCap.value));t.vCur=null,n.plugins.fetch.fetch(i,this.list.bind(this,t.vCap.value,this.seq,t))},this.list=function(t,i,e,n){var s=JSON.parse(n.responseText);i==e.vSeq&&this.openList(e,s.data),this.store(e,t,s)},this.openList=function(t,i,e){e&&e.stopPropagation(),this.closeList(),t.thePop.appendChild(this.win),this.win.vRel=t.vCap,n.plugins.toggle.toggle(this.win,!0),this.build(t,i)},this.closeList=function(){n.plugins.toggle.toggle(this.win,!1)},this.build=function(t,i){for(var e=this;this.win.firstChild;)this.win.removeChild(this.win.firstChild);var s,o=n.ins("ul","",{className:"nav let"},this.win),a=0,r=t.getAttribute(this.opt.aGoto),l=function(l){s=n.ins("li","",{},o);var h=n.ins("a","",{href:r?r.replace(/\{id\}/,i[l].id):"#"+i[l].id,className:"-pad -hover"},s);if(n.ins("span",i[l].nm,{},h),i[l].info&&(n.ins("br","",{},h),n.ins("small",i[l].info,{className:"text-n"},h)),r||n.b(h,"click",(function(i){return e.choose(t,h,i)}),!1),++a>=e.opt.max)return"break"};for(var h in i){if("break"===l(h))break}o.firstChild&&this.hilite(t,o.firstChild.firstChild)},this.hilite=function(t,i){t.vCur&&t.vCur.classList.remove(n.opt.cAct),i.classList.add(n.opt.cAct),t.vCur=i},this.hiliteNext=function(t,i){if(t.vCur){var e=t.vCur.parentNode[i?"previousSibling":"nextSibling"];e||(e=t.vCur.parentNode.parentNode[i?"lastChild":"firstChild"]),e=e.firstChild,this.hilite(t,e)}},this.choose=function(t,i,e){e&&e.preventDefault(),t.vCur=i,this.fix(t,i.hash.substr(1),i.firstChild.textContent)},this.fix=function(t,i,e){t.vCur=null,t.vSeq=0,t.vWait&&clearTimeout(t.vWait),t.value=i,t.vLabel=t.vCap.value=e,"function"==typeof Event&&t.dispatchEvent(new Event("input")),this.closeList()},this.onKey=function(t){var i=t.target.vId;i&&(27==t.keyCode?this.fix(i,i.value,i.vLabel):40!=t.keyCode||n.vis(this.win)?38==t.keyCode||40==t.keyCode?this.hiliteNext(i,38==t.keyCode):13==t.keyCode&&i.vCur&&(n.vis(this.win)&&t.preventDefault(),i.vCur.click()):this.planFind(i,1))},this.go=function(t,i){i.preventDefault();var e=t.getAttribute(this.opt.aUrl);t.value.length>0&&e&&(location.href=encodeURI(decodeURI(e).replace(/\{id\}/,t.value)))},this.updateChain=function(t){var i=n.q(t.getAttribute("data-chain"),0);if(i)if(t.value){var e=i.getAttribute("data-filter").replace(/\{q\}/,t.value);i.vCache&&i.vCache[e]?this.setOptions(i,i.vCache[e]):n.plugins.fetch.fetch(e,this.onChainData.bind(this,e,i))}else this.setOptions(i,[])},this.onChainData=function(t,i,e){var n=JSON.parse(e.responseText);this.setOptions(i,n.data),this.store(i,t,n)},this.setOptions=function(t,i){for(;t.firstChild;)t.removeChild(t.firstChild);var e=t.getAttribute("data-placeholder")||"";if(i&&0!=i.length&&!e||n.ins("option",e||"-",{value:""},t),i)for(var s=0;s<i.length;s++)n.ins("option",i[s].nm,{value:i[s].id},t)},this.store=function(t,i,e){var n=t.getAttribute("data-cache");void 0===n&&(n=this.opt.cacheLimit),(n=parseInt(n,10))&&((!t.vCache||Object.keys(t.vCache).length>=n)&&(t.vCache={}),e&&(t.vCache[i]=e.data))}}},function(t,i,e){
/*! d1 scroll topbar */
var n=e(0);t.exports=new function(){"use strict";this.name="scroll",this.y=null,this.opt={cStart:"shade",qTopbar:".topbar.let"},this.init=function(){var t=this;n.listen("hash",(function(i){return t.onHash(i)}));var i=n.throttle((function(){return t.onScroll()}),500);setTimeout((function(){return t.onScroll()}),20),n.b([window],"scroll",(function(t){return i()}))},this.onHash=function(t){n.dbg(["scroll hash",location.hash,t]),t&&location.hash&&n.q(location.hash)&&(this.y=window.scrollY-10)},this.onScroll=function(){var t=this;if(null!==this.y){var i=window.scrollY-this.y;n.e(this.opt.qTopbar,(function(e){return t.decorate(e,window.scrollY,i)}))}this.y=window.scrollY},this.decorate=function(t,i,e){t.classList[e>0?"add":"remove"](n.opt.cOff),t.classList[i&&e<=0?"add":"remove"](this.opt.cStart)}}},function(t,i,e){
/*! d1tablex */
var n=e(0);t.exports=new function(){"use strict";this.name="tablex",this.lang="",this.skipComma=0,this.opt={aFilter:"data-filter",cFilter:"bg-w",cScan:"text-i",cShow:"",cSort:"",cAsc:"bg-y",cDesc:"bg-w",qSort:"table.sort",wait:200},this.init=function(){this.lang=n.attr(document.documentElement,"lang")||"en",this.skipComma="en"==this.lang,n.e(this.opt.qSort+", table["+this.opt.aFilter+"]",this.prepare.bind(this))},this.prepare=function(t){var i,e,n=0,s=t.querySelector("tbody"),o=t.querySelector("thead tr");if(o||(o=s.rows[0],n=1),o&&s&&s.rows&&!(s.rows.length<2)){var a=[],r=[];for(e=0;e<o.cells.length;e++)r[e]=o.cells[e];t.vCase=null!==t.getAttribute("data-case");var l=t.getAttribute(this.opt.aFilter);for(t.vInp=l?document.querySelector(l):t.querySelector('[name="_q"]'),t.vInp&&(t.vInp.vListen||t.vInp.addEventListener("input",this.doFilter.bind(this,t),!1),t.vInp.vListen=1,this.doFilter(t)),i=n;i<s.rows.length;i++){var h=s.rows[i].cells,c=[];for(e=0;e<h.length;e++)c[e]=this.val(h[e],t.vCase);a.push({d:c,n:s.rows[i]})}if(t.vData=a,t.vHead=r,t.classList.contains("sort"))for(e=0;e<r.length;e++)this.isSortable(r[e])&&(this.opt.cSort&&r[e].classList.add(this.opt.cSort),r[e].vListen||r[e].addEventListener("click",this.doSort.bind(this,t,r[e]),!1),r[e].vListen=1)}},this.doFilter=function(t,i){t.vPrev===t.vInp.value&&i||(t.vPrev=t.vInp.value,this.opt.cFilter&&t.vInp.classList[t.vPrev.length>0?"add":"remove"](this.opt.cFilter),clearTimeout(t.vTimeout),t.vTimeout=setTimeout(this.filter.bind(this,t,t.vInp.value),this.opt.wait))},this.doSort=function(t,i,e){(e.target.closest?e.target.closest("a,input,select,label"):-1!=" A INPUT SELECT LABEL ".indexOf(" "+e.target.tagName+" "))||this.sort(t,i.cellIndex)},this.isSortable=function(t){return!t.hasAttribute("data-unsort")},this.val=function(t,i){var e=t.tagName?t.innerHTML:""+t;return e=e.replace(/<!--.*?-->/g,"").replace(/<.*?>/g,"").replace(/&nbsp;/gi," ").replace(/^\s+/,"").replace(/\s+$/,""),i||(e=e.toLowerCase()),e},this.filter=function(t,i){var e,s,o,a,r,l=0;if(!t.vCols&&(t.vCols=t.getAttribute("data-filter-cols"),t.vCols=!!t.vCols&&t.vCols.split(/\D+/),t.vCols&&this.opt.cScan))for(e=0;e<t.vCols.length;e++)t.vHead[t.vCols[e]]&&t.vHead[t.vCols[e]].classList.add(this.opt.cScan);for(e=0;e<t.vData.length;e++){if(r=0,""!==i){if(t.vCols.length>0)for(o=[],s=0;s<t.vCols.length;s++)o.push(t.vData[e].d[t.vCols[s]]);else o=t.vData[e].d;a="|"+o.join("|")+"|",r=!this.matches(a,i,t.vCase)}n.opt.cHide?t.vData[e].n.classList[r?"add":"remove"](n.opt.cHide):t.vData[e].n.style.display=r?"none":"",this.opt.cShow&&t.vData[e].n.classList[r?"remove":"add"](this.opt.cShow),r||l++}if(t.vInp){t.vInp.title=l+"/"+t.vData.length;var h=t.getAttribute("data-filter-report");h&&(h=document.querySelector(h)),h&&(h.textContent=t.vInp.title)}},this.matches=function(t,i,e){return"="==i.substr(0,1)?-1!=t.indexOf("|"+i.substr(1).toLowerCase()+"|"):-1!=i.indexOf("*")?(i="\\|"+i.replace(/\*/g,".*")+"\\|",new RegExp(i,e?"":"i").test(t)):-1!=t.indexOf(e?i:i.toLowerCase())},this.sort=function(t,i,e){void 0===e&&(e=this.opt.cAsc&&t.vHead[i].classList.contains(this.opt.cAsc)),t.vData.sort(this.cmp.bind(this,i)),e&&t.vData.reverse();for(var n=0;n<t.vHead.length;n++)this.mark(t.vHead[n],n==i?e?-1:1:0);this.build(t)},this.build=function(t){for(var i=t.querySelector("tbody"),e=0;e<t.vData.length;e++)i.appendChild(t.vData[e].n)},this.mark=function(t,i){this.opt.cAsc&&t.classList[i>0?"add":"remove"](this.opt.cAsc),this.opt.cDesc&&t.classList[i<0?"add":"remove"](this.opt.cDesc)},this.cmp=function(t,i,e){i=i.d[t],e=e.d[t];var n=this.dt(i),s=this.dt(e);return(isNaN(n)||isNaN(s))&&("b",n=this.sz(i),s=this.sz(e)),(isNaN(n)||isNaN(s))&&("i",n=this.interval(i),s=this.interval(e)),(isNaN(n)||isNaN(s))&&("n",n=this.nr(i),s=this.nr(e)),(isNaN(n)||isNaN(s))&&("s",n=i,s=e),n<s?-1:n>s?1:0},this.nr=function(t){return t=this.skipComma?t.replace(/(\$|,|\s)/g,""):t.replace(/(\$|\s)/g,"").replace(",","."),parseFloat(t)},this.dt=function(t){var i=t.match(/^(\d+)(\D)(\d+)\D(\d+)(\D(\d+))?(\D(\d+))?(\D(\d+))?(\D(\d+))?$/);if(i){var e;e="."==i[2]?[4,3,1]:"/"==i[2]?[4,1,3]:[1,3,4];var n=new Date(i[e[0]],i[e[1]]-1,i[e[2]],i[6]||0,i[8]||0,i[10]||0,i[12]||0);return n?n.getTime():NaN}return NaN},this.interval=function(t){var i={msec:.001,ms:.001,s:1,mi:60,sec:1,min:60,h:3600,d:86400,w:604800,m:2592e3,y:31536e3},e=t.match(/^(\d+)\s*(y|m|w|d|h|min|mi|sec|s|ms|msec)$/i);return e&&i[e[2]]?e[1]*i[e[2]]:NaN},this.sz=function(t){var i={b:1,kb:1024,mb:1048576,gb:1073741824,tb:1099511627776,pb:0x4000000000000},e=t.match(/^((\d*\.)?\d+)\s*(([kmgtp]i?)?b)$/i);return e&&(e[3]=e[3].replace(/ib$/i,"b").toLowerCase(),i[e[3]])?e[1]*i[e[3]]:NaN}}},function(t,i,e){
/*! d1 live theme configurator */
var n=e(0);t.exports=new function(){"use strict";this.name="theme",this.drw=null,this.init=function(){var t=this;this.restore(document.documentElement,"theme-html"),this.restore(document.body,"theme-body");var i=n.ins("a","Theme",{href:"#theme",className:"fix pad btn theme-btn"},document.body).style;i.transform="rotate(-90deg)",i.transformOrigin="100% 100%",i.top="10vh",i.right="-.2em",i.bottom=i.left="auto",i.margin=0,this.drw=n.ins("div","",{id:"theme",className:n.opt.cToggle+" "+n.opt.cOff+" "+n.opt.cUnpop+" drawer pad shift theme-drawer"},document.body),n.ins("a","&#x2715;",{href:"#cancel",className:"pad hover close"},this.drw),this.h("Theme",2),n.b([n.ins("a","Reset to default",{href:"#",className:""},this.drw)],"click",(function(i){return t.unstyle(i)})),this.put("Background",["#fff","#eee","#ffeee6","#ffe","#efe","#e6fcf9","#e3eeff","#f9e9ff"],"--bg"),this.put("Menu",["rgba(255,255,255,0)","rgba(0,0,0,.1)","hsla(1,100%,55%,.3)","hsla(45,100%,50%,.3)","hsla(120,100%,35%,.3)","hsla(180,100%,35%,.3)","hsla(220,100%,55%,.3)","hsla(290,100%,50%,.3)"],["--bg-pane","--bg-hilite"]),this.put("Links",["#000","#777","#c00","#c60","#090","#088","#00c","#909"],["--link","--visited","--hover"]),this.put("Text",["#000","#222","#444","#555","#666","#777","#888","#999"],"--text"),this.put("Font",["sans-serif","serif","monospace","Roboto","Open Sans","Georgia","PT Sans","PT Serif","PT Mono"],"font-family"),this.put("Gaps",["0.5","0.7","1","1.2","1.5"],"--gap")},this.restore=function(t,i){var e=localStorage.getItem(i);e&&(t.style=e)},this.style=function(t,i,e){var n=this;if(t instanceof Array)t.forEach((function(t){return n.style(t,i,1)}));else{var s="--"==t.substr(0,2)?document.documentElement:document.body;s.style.setProperty(t,i),localStorage.setItem("theme-"+s.tagName.toLowerCase(),s.style.cssText)}},this.unstyle=function(t){t.preventDefault(),document.documentElement.style=document.body.style="",localStorage.removeItem("theme-html"),localStorage.removeItem("theme-body")},this.h=function(t,i){n.ins("h"+(i||1),t,{className:"mar"},this.drw)},this.put=function(t,i,e){var s=this;this.h(t,3);var o=[];i.forEach((function(t){var i=t.match(/[#(]/),a=n.ins("a",i?"":t,{href:"#",title:t,className:i?"pad hover bord":"pad hover"},s.drw);i?a.style.backgroundColor=t:"string"==typeof e&&(a.style[e]=t),o.push(a)})),n.b(o,"click",e instanceof Function?e:function(t){t.preventDefault(),s.style(e,t.target.title)})}}},function(t,i,e){
/*! d1 togglable interactive components */
var n=e(0);t.exports=new function(){"use strict";this.name="toggle",this.shown=null,this.opt={keepHash:1,qTgl:".toggle[id]",qTrg:".target[id]",qPop:".pop>div[id]",qNav:".nav ul",qDlg:".dlg[id]",qTab:".tabs+div>[id]",qTre:"ul.tree ul",qDrw:".drawer[id]",qAccRoot:"ul.tree.accordion",qAcc:"ul.tree.accordion ul",qGal:".gal>a[id]",qSubMem:".tabs.mem+div>[id], ul.mem:not(.nav) ul",qMedia:".hide-mobile, .hide-desktop",qDrawer:"#menu",cMem:"mem",cTarget:"target",iToggle:["open","[+]"]},this.init=function(){var t=this;n.listen("esc",(function(i){return t.esc(i)})),n.listen("hash",(function(i){return t.onHash(i)})),n.listen("key",(function(i){return t.onKey(i)})),n.listen("click",(function(i){return t.onClick(i)})),n.listen("clicked",(function(i){return t.unpop(i.target)})),n.listen("after",(function(i){return t.after(i?i.target:null)}));var i=this.opt,e=[i.qTrg,i.qPop,i.qNav,i.qDlg,i.qTab,i.qTre,i.qDrw,i.qMedia].join(", "),s=[i.qPop,i.qNav,i.qDlg,i.qDrw].join(", ");n.e(this.opt.qNav+", "+this.opt.qTre,(function(i){return t.attachSubNav(i)})),n.e(e,(function(i){return t.initToggler(i)})),n.e(s,(function(t){return t.classList.add(n.opt.cUnpop)})),n.e(this.opt.qGal+":last-child",(function(t){return n.x(t,1)})),n.e(this.opt.qSubMem,(function(i){return i.classList.add(t.opt.cMem)})),n.e("[id]",(function(i){return t.restoreVisibility(i)})),n.e(this.opt.qTab+":not(."+n.opt.cOff+") ~ [id]:not(."+n.opt.cOff+")",(function(i){return t.tgl(i,0)})),n.e(this.opt.qTab+":first-child",(function(i){return n.a(i.parentNode.children).filter((function(t){return n.vis(t)})).length?null:t.tgl(n.q(n.q('a[href^="#"]',i.parentNode.previousElementSibling).hash),1)})),n.e("."+n.opt.cToggle+"[id]",(function(i){return t.hiliteLinks(i)}))},this.after=function(t){this.shown=null;var i=n.q(this.opt.qDlg+":not(."+n.opt.cOff+"), "+this.opt.qGal+'[id="'+location.hash.substr(1)+'"]'),e=window.innerWidth-document.documentElement.clientWidth,s=document.body.style;if(s.overflow=i?"hidden":"",i&&s.paddingRight||(s.paddingRight=i?e+"px":""),n.dbg(["after",t,i,s.paddingRight]),i){var o=n.q('input, a:not([href="'+n.opt.hClose+'"])',i);o&&o.focus()}},this.esc=function(t){t&&t.preventDefault(),this.unpop(),this.unhash(),this.after()},this.onHash=function(t){if(n.dbg(["hash",location.hash]),location.hash===n.opt.hClose)n.fire("esc",t);else if(location.hash){var i=n.q(location.hash);if(i){var e=i.matches(this.opt.qTgl),s=i.matches(this.opt.qGal);e&&(this.unpop(),this.toggle(i,!0),this.opt.keepHash||this.unhash()),e||s?this.after():this.unpop()}}},this.onKey=function(t){var i=t.keyCode;n.dbg(["key",i]),27==i&&n.fire("esc",t)},this.onClick=function(t){var i=t.target,e=n.closest(i,"a"),s=e&&e.matches('a[href^="#"]')?n.q(e.hash):null;if(e&&e.hash===n.opt.hClose)n.fire("esc",t);else{if(s&&s.matches(this.opt.qTgl))return t.preventDefault(),s=this.toggle(s),n.vis(s)&&this.opt.keepHash?this.addHistory(e.hash):this.unhash(),s;e||this.unhash()}t.clientX<=5&&t.clientY>5&&this.opt.qDrawer&&this.toggle(this.opt.qDrawer)},this.initToggler=function(t){t.classList.remove(this.opt.cTarget),t.classList.add(n.opt.cToggle),this.tgl(t,0)},this.attachSubNav=function(t){var i=n.a(t.parentNode.children).filter((function(t){return"A"==t.tagName})),e=i.filter((function(t){return!t.href}))[0]||i[0]||n.ins(""," ",{},t.parentNode,!1)&&n.ins("a",n.i(this.opt.iToggle),{},t.parentNode,!1);e&&(t.id||(t.id="ul-"+n.seq()),e.href="#"+t.id)},this.toggle=function(t,i,e){var s=t?t.tagName?t:n.q(t):null;return s&&(s.matches(this.opt.qTab)&&void 0===i&&(i=!0),this.tgl(s,i),n.dbg(["toggle"+(e?" deep":""),i,s],e?2:1),n.vis(s)&&(this.fixPosition(s),e||(this.shown=s)),-1!=e&&(e||this.toggleDependent(s),this.hiliteLinks(s),this.storeVisibility(s))),s},this.tgl=function(t,i){t&&t.classList[i?"remove":void 0===i?"toggle":"add"](n.opt.cOff)},this.toggleDependent=function(t){var i=this;n.vis(t)&&(t.matches(this.opt.qDlg)?n.e(this.opt.qDlg,(function(e){return e==t?null:i.toggle(e,!1,1)})):t.matches(this.opt.qTab)?n.e(t.parentNode.children,(function(e){return e==t?null:i.toggle(e,!1,1)})):t.matches(this.opt.qAcc)&&n.e(n.qq(this.opt.qAcc,n.closest(t,this.opt.qAccRoot)),(function(e){return e.contains(t)?null:i.toggle(e,!1,1)})))},this.unpop=function(t){var i=this,e=[t];e.push(this.shown);var s=t?n.closest(t,"a"):null;s&&s.hash&&e.push(n.q(s.hash)),n.dbg(["unpop",e]),n.e("."+n.opt.cUnpop,(function(t){return e&&e.filter((function(i){return i&&i.tagName&&t.contains(i)})).length?null:i.toggle(t,!1,1)}))},this.unhash=function(){location.hash&&(location.hash=n.opt.hClose),this.addHistory(location.pathname+location.search)},this.addHistory=function(t){history.pushState({},"",t)},this.storeVisibility=function(t){t.classList.contains(this.opt.cMem)&&localStorage.setItem("vis#"+t.id,n.vis(t)?1:-1)},this.restoreVisibility=function(t){if(t.classList.contains(this.opt.cMem)){var i=localStorage.getItem("vis#"+t.id);i&&this.toggle(t,i>0,-1)}},this.hiliteLinks=function(t){var i=n.vis(t)?"add":"remove";n.e('a[href="#'+t.id+'"]',(function(t){return t.classList[i](n.opt.cAct)}))},this.fixPosition=function(t){var i=t.matches(this.opt.qNav),e=i?window.getComputedStyle(t.parentNode.parentNode):null,n=!!e&&"flex"!=e.display;if(t.matches(this.opt.qPop)||i){var s=t.style,o=t.parentNode,a=o.nextElementSibling,r=(a=a&&"INPUT"==a.tagName?a:null)||t.parentNode;if(r){s.right="auto",s.left=n?"100%":0,s.top=n?0:"100%";var l=t.getBoundingClientRect(),h=r.getBoundingClientRect(),c=l.right>window.innerWidth,u=l.bottom>window.innerHeight,p=h.width>300;n?s.left=c||p?"3em":"100%":c&&l.width>h.width&&h.right>l.width?s.left=h.width-l.width+"px":s.left=0,n?s.top=c||p?"90%":0:u&&h.top>l.height?s.top=(a?-h.height:0)-l.height+"px":s.top="100%",a&&(o.style.verticalAlign="bottom")}}}}},function(t,i,e){
/*! d1 tools */
var n=e(0);t.exports=new function(){"use strict";this.name="tools",this.opt={qTop:"h2[id], h3[id], h4[id], h5[id], h6[id]",iTop:["up","&uarr;"],minDesktop:900},this.init=function(){var t=this;n.e("table[class]",(function(i){return t.alignCells(i)})),n.e("[data-class]",(function(i){return t.toggleClass(i)})),n.e(this.opt.qTop,(function(i){return t.addTopLink(i)})),n.listen("click",(function(i){return t.onClick(i)})),this.onResize(),n.b([window],"resize",(function(i){return t.onResize(i)}))},this.onClick=function(t){var i=t.target;n.closest(i,"[data-class]")&&this.toggleClass(i,t)},this.alignCells=function(t){var i=t.className.match(/\b[lcr]\d\d?\b/g);if(i)for(var e=function(e){n.e(n.qq("tr>*:nth-child("+i[e].substr(1)+")",t),(function(t){return t.classList.add(i[e].substr(0,1))}))},s=0;s<i.length;s++)e(s)},this.setClass=function(t,i,e,s,o){n.dbg(["setcls",s,i]),!1!==o?s.className=e?i:o||"":i.split(/\s+/).filter((function(t){return t})).forEach((function(t){return s.classList[e?"add":"remove"](t)})),t.classList[e?"add":"remove"](n.opt.cAct)},this.toggleClass=function(t,i){var e=this,s="checkbox"==t.type||"radio"==t.type,o=n.attr(t,"data-nodes",t.hash),a=n.attr(t,"data-class",!1),r="radio"==t.type?"":n.attr(t,"data-unclass",!1),l=s?t.checked:t.classList.contains(n.opt.cAct);i&&!s&&(l=!l,i.preventDefault()),!1!==a&&n.e(o,(function(i){return e.setClass(t,a,l,i,r)}))},this.addTopLink=function(t){t.style.position="relative";n.ins("a",n.i(this.opt.iTop),{href:"#",className:"close l text-n"},t)},this.onResize=function(){window.innerWidth<=this.opt.minDesktop?n.e("[data-class-mobile]",(function(t){return t.className=n.attr(t,"data-class-mobile")})):n.e("[data-class-desktop]",(function(t){return t.className=n.attr(t,"data-class-desktop")}))}}},,function(t,i,e){var n=e(0);["toggle","dialog","gallery"].forEach((function(t){return n.plug(e(1)("./"+t+".js"))})),n.b([document],"DOMContentLoaded",(function(t){return n.init()})),window&&(window.d1=n)}]);